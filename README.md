# test_audio_devices

Flutter app to test audio_session and flutter_webrtc on new added device events

Logic NOTES:

handle/check mic in headset - out of scope (need to have screen to test the hardware)

discover:
Multipoint Bluetooth topic

1. Андроид системная логика (может отличаться в зависимости от производителя)
- если первым включить проводные наушики, потом блютуз - все четыре устройства доступны [проводная гарнитура, блютуз, общий динамик, слуховой динамик]
- первым включить блютуз, потом проводные - блютуз отключается, остается [проводная гарнитура, общий динамик, слуховой динамик]
- если любое устройство добавлять к динамику оно всегда в приоритете. [проводная гарнитура/блютуз,  общий динамик, слуховой динамик]
- если добавить к второе блютуз устройство к уже используемому первому блютуз устройству (мануально в телефоне), соединение с первым пропадет.

2. иОС системная логика
- проводные не тестировал(!). TODO
- если любое устройство добавлять к динамику оно всегда в приоритете. [проводная гарнитура/блютуз,  общий динамик, слуховой динамик]
- если при подключенном блютуз телефон увидит сопряженное другое устроство, то новое устройство станет активным и вытеснет первое. 

3. Логика в приложении
 - Поддерживает системную логику. Если приходит сообщение о новом подлюченном устройстве, приложение переключается на него.
 - Если пользователь выбирает из доступных опций, приложение переключается на выбранное пользователем устройство.

4. Дополнительнве предложения:
 - добавить опцию earpeace динамика для случаев когда нет гарнитуры
 - логика подписки на состояние подключенных устройств должна быть в общем цикле (а не только во время звонка). Приложение слушает изменения в подключенных устройствах и обновляет опции до соединение с ботом и во время.

5. Вопрос
Логика паузы вов время звонка (mute). Нужна ли?

6. Вне текущей задачи
Headphones or headset. Check for mic in headset - out of current task scope (that is Dima's suggestion to have an additional screen to test the hardware)